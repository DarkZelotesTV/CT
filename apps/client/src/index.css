/* apps/client/src/index.css */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&family=Segoe+UI+Variable:wght@300;400;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* --- PALETTE (aus index.html) --- */
  --color-background: #0b1021;
  --color-surface: #111827;
  --color-surface-alt: #0f1625;
  --color-surface-hover: #1f2937;
  --color-surface-2: var(--color-surface-alt);
  --color-surface-3: var(--color-surface-hover);
  --color-surface-body: color-mix(in srgb, var(--color-background) 75%, var(--color-surface) 25%);
  --color-surface-rail: color-mix(in srgb, var(--color-surface) 92%, var(--color-background) 8%);
  --color-surface-tree: color-mix(in srgb, var(--color-surface) 84%, var(--color-background) 16%);
  --color-surface-main: color-mix(in srgb, var(--color-surface) 70%, var(--color-background) 30%);
  --color-surface-info: color-mix(in srgb, var(--color-surface) 86%, var(--color-background) 14%);
  --color-surface-log: color-mix(in srgb, var(--color-surface) 94%, var(--color-background) 6%);
  --color-surface-header: color-mix(in srgb, var(--color-surface) 88%, var(--color-background) 12%);
  --color-surface-tint: #ffffff;
  --color-border: #1f2a3a;
  --color-border-strong: #303a4e;
  --color-border-subtle: rgba(255, 255, 255, 0.08);
  --color-accent: #10b981;
  --color-accent-hover: #059669;
  --color-on-accent: #0b1021;
  --color-focus: var(--color-accent);
  --color-overlay: rgba(6, 8, 16, 0.78);
  --color-shadow: #000000;
  --shadow-panel-inset: inset 0 0 0 1px rgba(255, 255, 255, 0.03);
  --shadow-panel: 0 8px 32px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.02);
  --shadow-panel-strong: 0 -10px 40px rgba(0, 0, 0, 0.5);
  --shadow-1: 0 24px 70px rgba(0, 0, 0, 0.6);
  --shadow-2: 0 12px 32px rgba(0, 0, 0, 0.5);
  --layout-bg-body: var(--color-surface-body);
  --layout-bg-rail: var(--color-surface-rail);
  --layout-bg-tree: var(--color-surface-tree);
  --layout-bg-main: var(--color-surface-main);
  --layout-bg-info: var(--color-surface-info);
  --layout-bg-log: var(--color-surface-log);
  --bg-body: var(--color-surface-body);
  --bg-rail: var(--color-surface-rail);
  --bg-tree: var(--color-surface-tree);
  --bg-main: var(--color-surface-main);
  --bg-info: var(--color-surface-info);
  --bg-log: var(--color-surface-log);
  
  --accent: var(--color-accent);
  --accent-hover: var(--color-accent-hover);
  --layout-accent-dim: color-mix(in srgb, var(--color-accent) 15%, transparent); /* maps to --accent-dim */
  --layout-accent-glow: 0 0 15px color-mix(in srgb, var(--color-accent) 40%, transparent); /* maps to --accent-glow */
  --accent-dim: var(--layout-accent-dim);
  --accent-glow: var(--layout-accent-glow);
  
  --status-online: #22c55e;
  --status-idle: #eab308;
  --status-dnd: #ef4444;
  --status-offline: #6b7280;
  
  /* ROLES */
  --role-admin: #ef4444; 
  --role-mod: #60a5fa;
  --role-bot: #a78bfa;

  --color-border-glass: rgba(255, 255, 255, 0.08);
  --color-border-shine: rgba(255, 255, 255, 0.15);
  --border-glass: 1px solid var(--color-border-glass);
  --border-shine: 1px solid var(--color-border-shine);
  
  --font-ui: "Segoe UI Variable", "Inter", sans-serif;
  --font-mono: "JetBrains Mono", "Consolas", monospace;

  --density-scale: 1;

  /* Type scale (font-size + line-height)
     Use for app UI text to avoid ad-hoc sizes:
     xs = helper/labels, sm = secondary text, base = body/UI, lg/xl = headers. */
  --font-size-xs: 0.7rem;
  --font-size-sm: 0.8rem;
  --font-size-base: 0.9rem;
  --font-size-lg: 1rem;
  --font-size-xl: 1.1rem;
  --line-height-xs: 1.2;
  --line-height-sm: 1.35;
  --line-height-base: 1.5;
  --line-height-lg: 1.6;
  --line-height-xl: 1.75;

  /* --- LAYOUT DIMENSIONS --- */
  --layout-rail-width-base: 72px;
  --layout-tree-width-base: 280px;
  --layout-info-width-base: 300px;
  --layout-header-height-base: 64px;
  --layout-log-height-base: 160px;
  --layout-rail-width: calc(var(--layout-rail-width-base) * var(--density-scale)); /* maps to --w-rail */
  --layout-tree-width: calc(var(--layout-tree-width-base) * var(--density-scale)); /* maps to --w-tree */
  --layout-info-width: calc(var(--layout-info-width-base) * var(--density-scale)); /* maps to --w-info */
  --layout-header-height: calc(var(--layout-header-height-base) * var(--density-scale)); /* maps to --h-header */
  --layout-log-height: calc(var(--layout-log-height-base) * var(--density-scale)); /* maps to --h-log */
  --w-rail: var(--layout-rail-width);
  --w-tree: var(--layout-tree-width);
  --w-info: var(--layout-info-width);
  --h-header: var(--layout-header-height);
  --h-log: var(--layout-log-height); /* Standard Log HÃ¶he */
  --curr-tree: var(--layout-tree-current, var(--w-tree));
  --curr-info: var(--layout-info-current, var(--w-info));
  --anim: var(--layout-transition);

  --radius-1: 6px;
  --radius-2: 8px;
  --radius-3: 12px;
  --radius-4: 16px;
  --radius-5: 24px;
  --radius-pill: 999px;
  --layout-radius: var(--radius-3);
  --radius-sm: var(--radius-1);
  --radius-md: var(--radius-2);
  --radius-lg: var(--radius-3);
  --radius-button: var(--radius-3);
  --radius-card: var(--radius-4);
  --radius-modal: var(--radius-4);
  --radius-input: var(--radius-3);

  --space-1-base: 4px;
  --space-2-base: 8px;
  --space-3-base: 12px;
  --space-4-base: 16px;
  --space-5-base: 20px;
  --space-6-base: 24px;
  --space-7-base: 32px;
  --space-8-base: 40px;
  --space-1: calc(var(--space-1-base) * var(--density-scale));
  --space-2: calc(var(--space-2-base) * var(--density-scale));
  --space-3: calc(var(--space-3-base) * var(--density-scale));
  --space-4: calc(var(--space-4-base) * var(--density-scale));
  --space-5: calc(var(--space-5-base) * var(--density-scale));
  --space-6: calc(var(--space-6-base) * var(--density-scale));
  --space-7: calc(var(--space-7-base) * var(--density-scale));
  --space-8: calc(var(--space-8-base) * var(--density-scale));
  --layout-transition: 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);

  --decor-grid-size: 24px;
  --decor-grid-color: #ffffff;
  --decor-grid-opacity: 0.04;
  --decor-noise-opacity: 0.05;
  --decor-orb-1-color: var(--color-accent);
  --decor-orb-2-color: #60a5fa;
  --decor-orb-1-opacity: 0.5;
  --decor-orb-2-opacity: 0.4;
  --decor-orb-1-rgb: 16 185 129;
  --decor-orb-2-rgb: 96 165 250;

  --color-text: #e5e7eb;
  --color-text-muted: #cbd5e1;
  
  /* Helper for existing components relying on old vars */
  --color-text-base: var(--color-text);
  --color-text-ghost: color-mix(in srgb, var(--color-text-muted) 60%, transparent);
  --color-text-secondary: var(--color-text-muted);
  --color-text-tertiary: color-mix(in srgb, var(--color-text-muted) 75%, var(--color-text) 25%);
  --color-text-primary: var(--color-text);
  --color-text-subtle: color-mix(in srgb, var(--color-text-muted) 55%, var(--color-text) 45%);
  --color-text-accent-soft: color-mix(in srgb, var(--color-accent) 45%, var(--color-text) 55%);
  --color-text-strong: var(--color-text);
  --color-text-quiet: color-mix(in srgb, var(--color-text-muted) 70%, transparent);
  --color-text-log: color-mix(in srgb, var(--color-text) 80%, var(--color-text-muted) 20%);
  --color-text-dim: color-mix(in srgb, var(--color-text-muted) 40%, transparent);
  --color-text-danger-soft: color-mix(in srgb, var(--status-dnd) 65%, transparent);
  --color-text-placeholder: color-mix(in srgb, var(--color-text-muted) 65%, transparent);
  --color-text-section: color-mix(in srgb, var(--color-text-muted) 70%, transparent);
  --color-text-warning-soft: color-mix(in srgb, var(--status-idle) 70%, transparent);
  --color-text-bright: color-mix(in srgb, var(--color-text) 95%, var(--color-text-muted) 5%);
  --color-text-danger: var(--status-dnd);
  --color-text-warning: var(--status-idle);
  --color-text-success: var(--status-online);
  --color-text-info: var(--color-accent);
  --color-text-danger-light: color-mix(in srgb, var(--status-dnd) 35%, var(--color-text) 65%);
  --color-text-inverse: color-mix(in srgb, var(--color-text) 10%, var(--color-surface) 90%);
  --color-text-danger-muted: color-mix(in srgb, var(--status-dnd) 60%, var(--color-text-muted) 40%);
  --color-text-muted-strong: color-mix(in srgb, var(--color-text-muted) 85%, var(--color-text) 15%);
  --layout-border: var(--border-glass);

  --color-scrollbar-track: var(--color-surface);
  --color-scrollbar-thumb: var(--color-text-muted);
  --color-scrollbar-thumb-hover: var(--color-text);
}

@layer base {
  body {
    background-color: var(--color-surface-body);
    color: var(--color-text-base);
    font-family: var(--font-ui);
  }

  ::-webkit-scrollbar { width: 6px; height: 6px; }
  ::-webkit-scrollbar-track { background: var(--color-scrollbar-track); }
  ::-webkit-scrollbar-thumb { background: var(--color-scrollbar-thumb); border-radius: 3px; }
  ::-webkit-scrollbar-thumb:hover { background: var(--color-scrollbar-thumb-hover); }
}

/* Glass Utility Class */
.glass { 
  backdrop-filter: blur(30px); 
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.03); 
}

@media (prefers-reduced-motion: reduce) {
  .glass {
    backdrop-filter: blur(12px);
  }
}

/* Utilities */
.scroll-y {
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: var(--color-scrollbar-thumb) var(--color-scrollbar-track);
}

.no-scrollbar {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.no-scrollbar::-webkit-scrollbar {
  width: 0;
  height: 0;
}

.no-drag { -webkit-app-region: no-drag; }
.drag { -webkit-app-region: drag; }
